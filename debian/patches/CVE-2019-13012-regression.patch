Description: the backport for CVE-2019-13012 introduced a regression
 since g_file_get_path returns an allocated char that needs to be freed
 this caused a memory leak. This patch fix this issue. Thanks Simon McVittie.
Origin: 5e4da714f00f6bfb2ccd6d73d61329c6f3a08429

diff --git a/gio/gkeyfilesettingsbackend.c b/gio/gkeyfilesettingsbackend.c
index d564671..842392a 100644
--- a/gio/gkeyfilesettingsbackend.c
+++ b/gio/gkeyfilesettingsbackend.c
@@ -628,6 +628,7 @@ g_keyfile_settings_backend_new (const gchar *filename,
                                 const gchar *root_group)
 {
   GKeyfileSettingsBackend *kfsb;
+  char *dir;
 
   g_return_val_if_fail (filename != NULL, NULL);
   g_return_val_if_fail (root_path != NULL, NULL);
@@ -641,7 +642,9 @@ g_keyfile_settings_backend_new (const gchar *filename,
 
   kfsb->file = g_file_new_for_path (filename);
   kfsb->dir = g_file_get_parent (kfsb->file);
-  g_mkdir_with_parents (g_file_get_path (kfsb->dir), 0700);
+  dir = g_file_get_path (kfsb->dir);
+  g_mkdir_with_parents (dir, 0700);
+  g_free(dir);
 
   kfsb->file_monitor = g_file_monitor (kfsb->file, 0, NULL, NULL);
   kfsb->dir_monitor = g_file_monitor (kfsb->dir, 0, NULL, NULL);
